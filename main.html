<head>
  <meta charset="utf-8"/>
  <title>Starlifter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Favicons -->
  <link rel="icon" href="/favicon.png" type="image/png" sizes="any"/>
  <!-- <link rel="icon" href="/favicon.svg" type="image/svg+xml" sizes="any"/> -->

  <!-- Apple icons -->
  <link rel="apple-touch-icon" href="/favicon-on-white.png" type="image/png" sizes="any"/>
  <!-- <link rel="mask-icon" href="/favicon-black.svg" type="image/svg+xml" color="#000"/> -->

  <!-- Microsoft icons -->
  <!-- <meta name="msapplication-TileColor" content="#ffffff"/> -->
  <!-- <meta name="msapplication-TileImage" content="/favicon.png"/> -->

  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

  <script src="https://aframe.io/releases/latest/aframe.js"></script>
</head>

<body>
</body>

<template name="layout">
  {{> yield}}
</template>

<template name="notFound">
  <h1>Fleet not found</h1>
</template>

<template name="loading">
  <h1>Loadingâ€¦</h1>
</template>

<template name="game">
  <div id="scroller">
  </div>

  <a-scene>
    {{> lights}}

    {{> segment position="0 0 -10000" rotation=" 90 0 0"}}
    {{> segment position="0 0  10000" rotation="-90 0 0"}}
    {{> segment position="0 -10000 0" rotation="  0 0 0"}}
    {{> segment position="0  10000 0" rotation="180 0 0"}}

    {{> viewport}}

  </a-scene>
</template>

<template name="segment">
  <a-entity
    position="{{position}}"
    rotation="{{rotation}}"
    {{attributes}}
  >
  {{#each tiles}}
    {{> tile}}
  {{/each}}
  </a-entity>
</template>

<template name="tile">
  <a-cube
    {{attributes}}
  >
    <!-- <a-animation
      {{animationAttributes}}
    >
    </a-animation> -->
  </a-cube>
</template>

<template name="sky">
  <a-sky
    radius="50000"
    src="/starfield.jpg"
  >
  </a-sky>
</template>

<template name="viewport">
  <a-entity
    id="viewport"
    rotation="{{cameraRotation}} 0 0"
    position="0 0 0"
  >
    {{> sky}}

    <a-entity
      camera="
        far: 50000;
      "
    >
    </a-entity>
  </a-entity>
</template>

<template name="lights">
  <a-entity
    id="star"
    position="0 0 0"
    rotation="0 0 0"
  >
    <a-animation
      attribute="rotation"
      to="-360 0 0"
      dur="60000"
      fill="forwards"
      repeat="indefinite"
      easing="linear"
    >
    </a-animation>
    <a-light
      type="spot"
      color="rgb(255, 255, 195)"
      angle="90"
      intensity="0.618"
      exponent="1"
    >
    </a-light>
  </a-entity>

  <a-entity
    id="moon"
    position="0 0 0"
    rotation="180 0 0"
  >
    <a-light
      type="point"
      color="white"
      distance="0"
      intensity="0.5"
    >
    </a-light>
  </a-entity>
</template>
