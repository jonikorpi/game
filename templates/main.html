<head>
  <meta charset="utf-8"/>
  <title>Starlifter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Favicons -->
  <link rel="icon" href="/favicon.png" type="image/png" sizes="any"/>
  <!-- <link rel="icon" href="/favicon.svg" type="image/svg+xml" sizes="any"/> -->

  <!-- Apple icons -->
  <link rel="apple-touch-icon" href="/favicon-on-white.png" type="image/png" sizes="any"/>
  <!-- <link rel="mask-icon" href="/favicon-black.svg" type="image/svg+xml" color="#000"/> -->

  <!-- Microsoft icons -->
  <!-- <meta name="msapplication-TileColor" content="#ffffff"/> -->
  <!-- <meta name="msapplication-TileImage" content="/favicon.png"/> -->

  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

  <script src="https://aframe.io/releases/latest/aframe.js"></script>
</head>

<body>
</body>

<template name="layout">
  {{> yield}}
</template>

<template name="notFound">
  <h1>Fleet not found</h1>
</template>

<template name="loading">
  <h1>Loadingâ€¦</h1>
</template>

<template name="game">
  <div id="scroller">
  </div>

  <div id="canvas">
    <a-scene>
      <a-entity id="segments">
        {{#each segments}}
          {{> segment}}
        {{/each}}
      </a-entity>

      <a-entity id="tiles">
        {{#each tiles}}
          {{> tile}}
        {{/each}}
      </a-entity>

      <a-entity id="lights">
        {{> lights}}
      </a-entity>

      {{> viewport}}
    </a-scene>
  </div>
</template>

<template name="tile">
  <a-entity
    class="tile"
    {{attributes}}
  >
    <!-- {{#unless type}}
      <a-animation
        {{animationAttributes}}
      >
      </a-animation>
    {{/unless}} -->
  </a-entity>
</template>

<template name="segment">
  <a-entity
    class="segment"
    {{attributes}}
  >
  </a-entity>
</template>

<template name="sky">
  <a-sky
    id="sky"
    {{skyAttributes}}
  >
  </a-sky>
</template>

<template name="viewport">
  <a-entity
    id="viewport"
    rotation="{{cameraRotation}} 0 0"
    position="0 0 0"
  >
    {{> sky}}

    <a-entity
      id="camera"
      {{cameraAttributes}}
    >
    </a-entity>
  </a-entity>
</template>

<template name="lights">
  <a-entity
    id="light"
    position="0 0 0"
    light="
      type: point;
      color: rgb(255, 255, 158);
      distance: 0;
      intensity: 1.0;
    "
  >

    <!-- <a-animation
      attribute="light.intensity"
      from="1.0"
      to="0.382"
      dur="6000"
      repeat="indefinite"
      easing="linear"
      direction="alternate"
    >
    </a-animation> -->

  </a-entity>

  <a-entity id="ambient" light="type: ambient; color: rgb(37, 37, 60)"></a-entity>
</template>
